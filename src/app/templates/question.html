<div class="card col-xs-10" *ngIf="question" [ngClass]="{disabled: question.disabled}">
    <div *ngIf="user && user.is_staff">
        <span>#{{question.id}}</span>
        <a *ngIf="question.graph" href="/graphs/{{question.id}}.png" target="_blank"><img src="https://cafe-trauma.com/gicon.png"></a>
    </div>
    <p class="card-text">{{question.text}}</p>
    <form>
        <template [ngIf]="question.q_type === 'text'">
          <fieldset class="form-group">
            <input type="text" class="form-control"
                   placeholder="Text..."
                   (blur)="setValue()"
                   [disabled]="question.disabled"
                   [(ngModel)]="answer.text"
                   name="text">
          </fieldset>
          <small *ngIf="question.help_text" class="text-muted">{{question.help_text}}</small>
        </template>
        <template [ngIf]="question.q_type === 'int'">
          <fieldset class="form-group">
            <input type="number" class="form-control"
                   placeholder="Number"
                   (blur)="setValue()"
                   [disabled]="question.disabled"
                   [(ngModel)]="answer.integer"
                   name="number">
            <small *ngIf="question.help_text" class="text-muted">{{question.help_text}}</small>
          </fieldset>
        </template>
        <template [ngIf]="question.q_type === 'combo'">
          <fieldset class="form-group">
              <select class="form-control"
                  (blur)="setValue()"
                   [disabled]="question.disabled"
                  [(ngModel)]="answer.text"
                  name="combo">
                <option></option>
                <option *ngFor="let option of question.options" [value]="option.text">
                    {{option.text}}
                </option>
            </select>
            <small *ngIf="question.help_text" class="text-muted">{{question.help_text}}</small>
          </fieldset>
        </template>
        <template [ngIf]="question.q_type === 'check'">
          <fieldset class="form-group">
              <div class="checkbox" *ngFor="let option of question.options">
                  <label>
                    <input type="checkbox"
                    (click)="setCheck(option.id)"
                    [checked]="isChecked(option.id)"
                    [value]="option.id"
                    [disabled]="question.disabled"
                    name="check">
                    {{option.text}}
                </label>
              </div>
            <small *ngIf="question.help_text" class="text-muted">{{question.help_text}}</small>
          </fieldset>
        </template>
        <template [ngIf]="question.q_type === 'bool'">
            <label class="radio-inline">
              <input type="radio" name="inlineRadioOptions" id="inlineRadio1"
              (click)="answer.yesno=true;answer.integer=null; setValue()"
              [disabled]="question.disabled"
              [checked]="answer.yesno"
              name="radioyes">Yes
            </label>
            <label class="radio-inline">
              <input type="radio" name="inlineRadioOptions" id="inlineRadio2"
              (click)="answer.yesno=false;answer.integer=null; setValue()"
              [disabled]="question.disabled"
              [checked]="answer.yesno === false"
              name="radiono">No
            </label>
            <label class="radio-inline">
              <input type="radio" name="inlineRadioOptions" id="inlineRadio2"
              (click)="answer.integer=-1;answer.yesno=null; setValue()"
              [disabled]="question.disabled"
              [checked]="answer.integer === -1"
              name="radiona">N/A
            </label>
            <small *ngIf="question.help_text" class="text-muted">{{question.help_text}}</small>
        </template>
    </form>
</div>
<span *ngIf="stat"
      class="col-xs-2">
      <div class="box gauge--1">
        <div class="mask">
        	<div class="semi-circle"></div>
        	<div class="semi-circle--mask"
                 [style]="getStyle()"></div>
        </div>
      </div>
</span>
